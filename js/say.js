function say(e,t,o){document.querySelector("#say-content").innerText=e,t&&(document.querySelector("#say-author").innerText=t),o&&(document.querySelector("#say-from").innerText="「"+o+"」")}CONFIG.say.api&&fetch(new Request(CONFIG.say.api)).then(e=>{if(!e.ok)throw new Error(CONFIG.say.api+", HTTP error, status = "+e.status);e.json().then(e=>{if(CONFIG.say.hitokoto)say(e.hitokoto,e.from_who,e.from);else{let t=e[Math.floor(Math.random()*e.length)];t.content?say(t.content,t.author,t.from):say(t)}})}).catch(e=>{console.log("error: "+e.message)});